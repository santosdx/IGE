<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <p:panel>
        <p:tooltip />

        <h:panelGrid columns="3" columnClasses="label, value" >

            <p:outputLabel for="cboSituacionControl" value="Situación de control:" styleClass="etiquetaFormulario"/>
            <p:selectOneMenu id="cboSituacionControl" required="true" style="width:430px"
                             value="#{MbFormUnidadLegal.relacionSeleccionada.situacionControl}" 
                             requiredMessage="La situación de control es requerido.">
                <f:selectItem itemLabel="Relación..." itemValue="" />
                <f:selectItems value="#{MbListaDesplegable.listaSituaciones}" var="SituacionControl" 
                               itemLabel="#{SituacionControl.situacion}" itemValue="#{SituacionControl.situacion}"/>
            </p:selectOneMenu>
            <p:message for="cboSituacionControl" />

            <p:outputLabel for="cboTipoRelacion" value="Tipo de relación:" styleClass="etiquetaFormulario"/>
            <p:selectOneMenu id="cboTipoRelacion" required="true" style="width:430px" 
                             value="#{MbFormUnidadLegal.relacionSeleccionada.tipoRelacionUl}" 
                             requiredMessage="El tipo de relación es requerido.">
                <f:selectItem itemLabel="Relación..." itemValue="" />
                <f:selectItems value="#{MbListaDesplegable.listaRelaciones}" var="TipoRelacion" 
                               itemLabel="#{TipoRelacion.tipo}" itemValue="#{TipoRelacion.tipo}"/>
            </p:selectOneMenu>
            <p:message for="cboTipoRelacion" />

            <p:outputLabel value="NIT de la controlante:" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtNitControlante" required="false" label="NIT de la controlante" maxlength="99"
                         value="#{MbFormUnidadLegal.relacionSeleccionada.nitControlante}" styleClass="valorEtiquetaFormulario"
                         requiredMessage="El NIT de la controlante es requerido." 
                         validatorMessage="Formato de NIT incorrecto, Ejemplo: 999999999-1, 999999999-1">
                <f:validateRegex pattern="(^[0-9,-]+$)?" />
            </p:inputText>
            <h:panelGrid columns="2" cellpadding="0">
                <p:message for="txtNitControlante" />
                <p:graphicImage id="imgAyudaNitControlante" value="/resources/icon/icono-de-ayuda.png" />
                <p:tooltip for="imgAyudaNitControlante">
                    <p>Si la unidad legal es controlada por más de un Grupo Empresarial, puede <br></br>
                        ingresar el NIT y el digito de verificación de las controlantes.</p>
                    <p>Ejemplo: 999999999-1, 999999999-1 </p>
                </p:tooltip>
            </h:panelGrid>

            <!--p:outputLabel value="Dígito de verificación: *" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtDigitoVerificacion" styleClass="valorEtiquetaFormulario"/>
            <p:message for="txtDigitoVerificacion" /-->

            <p:outputLabel for="txtNombreControlante" value="Nombre de la controlante:" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtNombreControlante" label="Nombre de la controlante" required="true" maxlength="900"
                         value="#{MbFormUnidadLegal.relacionSeleccionada.nombreControlante}" 
                         onblur="value = value.toUpperCase()" styleClass="valorEtiquetaFormulario"
                         requiredMessage="El nombre es requerido."/>
            <h:panelGrid columns="2" cellpadding="0">
                <p:message for="txtNombreControlante" />
                <p:graphicImage id="imgAyudaNombreControlante" value="/resources/icon/icono-de-ayuda.png" />
                <p:tooltip for="imgAyudaNombreControlante">
                    <p>Si la unidad legal es controlada por más de un Grupo Empresarial,<br></br>
                        puede ingresar los nombres de todos los grupos.</p>
                    <p>Ejemplo: Controlante A; Controlante B </p>
                </p:tooltip>
            </h:panelGrid>

            <p:outputLabel value="Porcentaje de participación de la controlante directa: *" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtPorcentajeParticipacionControlanteDirecta" required="true" label="Porcentaje de participación" maxlength="59"
                         value="#{MbFormUnidadLegal.relacionSeleccionada.porcentajeControlanteul}" styleClass="valorEtiquetaFormulario"
                         requiredMessage="El porcentaje de participación es requerido." 
                         validatorMessage="Formato de datos incorrecto, Ejemplo: 0,5-0,5">
                <f:validateRegex pattern="^[0-9,-]+$" />
            </p:inputText>
            <h:panelGrid columns="2" cellpadding="0">
                <p:message for="txtPorcentajeParticipacionControlanteDirecta" />
                <p:graphicImage id="imgAyudaPorcentajeControlante" value="/resources/icon/icono-de-ayuda.png" />
                <p:tooltip for="imgAyudaPorcentajeControlante">
                    <p>Si la unidad legal es controlada por más de un Grupo Empresarial,<br></br>
                        puede ingresar los porcentajes de participación de cada uno.</p>
                    <p>Ejemplo: 0,5-0,5 </p>
                </p:tooltip>
            </h:panelGrid>

            <!--h:outputText value="Saltar siguiente: " />
            <h:selectBooleanCheckbox value="#{practica.skip}" /-->
        </h:panelGrid>
    </p:panel>

</ui:composition>
