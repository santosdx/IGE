<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <p:panel>
        <p:tooltip />

        <h:panelGrid id="pnFormIdentificacionGrupoEmpresa" columns="3">

            <p:outputLabel value="Nombre Comercial: *" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtNombreComercial" value="#{MbFormGrupoEmpresa.identificacionSeleccionada.nombreComercial}" label = "Nombre Comercial" styleClass="valorEtiquetaFormulario" 
                         onblur="value = value.toUpperCase()" required="true" requiredMessage="El Nombre Comercial es requerido." maxlength="299" />
            <p:message for="txtNombreComercial" />

            <p:outputLabel value="Nombre registrado:" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtNombreRegistrado" value="#{MbFormGrupoEmpresa.identificacionSeleccionada.nombreRegistrado}" label ="Nombre registrado" styleClass="valorEtiquetaFormulario" 
                         onblur="value = value.toUpperCase()" required="true" requiredMessage="El Nombre Registrado es requerido." maxlength="299" />
            <p:message for="txtNombreRegistrado"/>

            <p:outputLabel value="Presidente: *" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtPresidente" value="#{MbFormGrupoEmpresa.identificacionSeleccionada.representanteLegal}" styleClass="valorEtiquetaFormulario" onblur="value = value.toUpperCase()" 
                         required="true" requiredMessage="El Presidente es requerido." maxlength="99" label ="Presidente"/>
            <p:message for="txtPresidente" />

            <p:outputLabel value="País de la controlante: *" styleClass="etiquetaFormulario"/>
            <p:selectOneMenu id="cboPais" value="#{MbFormGrupoEmpresa.relacionSeleccionada.paisControlante}" style="width:430px" required="true" requiredMessage="El Pais es requerido.">
                <p:ajax event="change" listener="#{MbFormGrupoEmpresa.testSelected}" 
                        update="pnFormIdentificacionGrupoEmpresa" />
                <f:selectItem itemLabel="País..." itemValue="" />
                <f:selectItems value="#{MbListaDesplegable.listaPaises}" var="pais" itemLabel="#{pais.nombre}" itemValue="#{pais.nombre}"/>
            </p:selectOneMenu>
            <p:message for="cboPais"/>

            <p:outputLabel value="Tipo de conglomerado: *" styleClass="etiquetaFormulario"/>
            <p:selectOneMenu id="cboTipoConglomerado"  value="#{MbFormGrupoEmpresa.relacionSeleccionada.tipoCongromelado}" style="width:430px" required="true" requiredMessage="El Tipo Conglomerado es requerido." >
                <f:selectItem itemLabel="Conglomerado..." itemValue="" />
                <f:selectItem itemLabel="GRUPO" itemValue="GRUPO" />
                <f:selectItem itemLabel="SITUACIÓN DE CONTROL" itemValue="SITUACIÓN DE CONTROL" />
                <f:selectItem itemLabel="GRUPO Y SITUACIÓN DE CONTROL" itemValue="GRUPO Y SITUACIÓN DE CONTROL" />
            </p:selectOneMenu>
            <p:message for="cboTipoConglomerado"/>

            <p:outputLabel value="Situación de control: *" styleClass="etiquetaFormulario"/>
            <p:selectOneMenu id="cboSituacionControl" value="#{MbFormGrupoEmpresa.relacionSeleccionada.situacionControl}" style="width:430px" required="true" requiredMessage="La Situación de control es requerida." >
               <f:selectItem itemLabel="Situación..." itemValue="" />
                <f:selectItems value="#{MbListaDesplegable.listaSituaciones}" var="SituacionControl" itemLabel="#{SituacionControl.situacion}" itemValue="#{SituacionControl.situacion}"/>
            </p:selectOneMenu>
            <p:message for="cboSituacionControl"/>

            <p:outputLabel value="Tipo de control: *" styleClass="etiquetaFormulario"/>
            <p:selectOneMenu id="cboTipoControl" value="#{MbFormGrupoEmpresa.relacionSeleccionada.tipoControl}" style="width:430px" required="true" requiredMessage="El Tipo de control es requerido." >
                <f:selectItem itemLabel="Control..." itemValue="" />
                <f:selectItems value="#{MbListaDesplegable.listaControles}" var="TipoControl" itemLabel="#{TipoControl.tipo}" itemValue="#{TipoControl.tipo}"/>
            </p:selectOneMenu>
            <p:message for="cboTipoControl"/>

            <p:outputLabel value="Tipo de empresa (controlante): *" styleClass="etiquetaFormulario"/>
            <p:selectOneMenu id="cboTipoEmpresa" value="#{MbFormGrupoEmpresa.relacionSeleccionada.tipoEmpresaControlante}" style="width:430px" required="true" requiredMessage="El Tipo de empresa es requerido." >
                <f:selectItem itemLabel="Empresa..." itemValue="" />
                <f:selectItems value="#{MbListaDesplegable.listaEmpresas}" var="TipoEmpresa" itemLabel="#{TipoEmpresa.tipo}" itemValue="#{TipoEmpresa.tipo}"/>
            </p:selectOneMenu>
            <p:message for="cboTipoEmpresa"/>

            <p:outputLabel value="Consorcios - Uniones temporales: *" styleClass="etiquetaFormulario"/>
            <p:inputSwitch id="swtConsorcios" onLabel="SI" offLabel="NO" required="true"
                           value="#{MbFormGrupoEmpresa.relacionSeleccionada.consorcioUnidadesTempGe}" />
            <p:message for="swtConsorcios"/>

            <p:outputLabel value="Página web: *" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtPaginaWeb" value="#{MbFormGrupoEmpresa.identificacionSeleccionada.paginaWeb}" styleClass="valorEtiquetaFormulario" 
                          required="true" requiredMessage="La Página Web es requerida." maxlength="99" label ="Página web"/>
            <p:message for="txtPaginaWeb"/>

            
            
            

            <p:outputLabel for="txtNit" value="NIT:" styleClass="etiquetaFormulario"/>
            <h:panelGrid columns="5">
                <p:inputText id="txtNit" value="#{MbFormGrupoEmpresa.identificacionSeleccionada.nit}" label="NIT" style="width: 250px;" 
                             required="#{MbFormGrupoEmpresa.relacionSeleccionada.paisControlante =='COLOMBIA' ? true : false}" 
                             requiredMessage="El NIT es requerido." validatorMessage="El NIT debe contener valores númericos (0-9), Ej: 890900050" maxlength="15" >
                </p:inputText>
                <p:message for="txtNit" display="tooltip"/>
                <p:outputLabel for="txtDigitoVerificacion" value="DV:" />
                <p:inputText id="txtDigitoVerificacion" value="#{MbFormGrupoEmpresa.identificacionSeleccionada.digitoVerificacion}" label="DV" style="width: 20px;" 
                             required="#{MbFormGrupoEmpresa.relacionSeleccionada.paisControlante =='COLOMBIA' ? true : false}" 
                             requiredMessage="El DV es requerido." validatorMessage="El DV debe ser un valor númerico entre 0-9, de un solo digito. Ej: 9" maxlength="1">
                </p:inputText>
                <p:message for="txtDigitoVerificacion" display="tooltip"/>
            </h:panelGrid>
            <p:spacer width="10" height="10"/>

            <p:outputLabel for="swtSucursale" value="Sucursales en el extranjero:" styleClass="etiquetaFormulario"/>
            <p:inputSwitch id="swtSucursale" onLabel="SI" offLabel="NO" 
                           required="#{MbFormGrupoEmpresa.relacionSeleccionada.paisControlante =='COLOMBIA' ? true : false}" 
                           value="#{MbFormGrupoEmpresa.relacionSeleccionada.sucursalesExtranjeroGe}" requiredMessage="Las Sucursales son requeridas." />
            <p:message for="swtSucursale"/>

            <p:outputLabel for="cboDepartamentoSedePrincipal" value="Departamento sede principal:" styleClass="etiquetaFormulario" />
            <p:selectOneMenu id="cboDepartamentoSedePrincipal" value="#{MbFormGrupoEmpresa.identificacionSeleccionada.departamento}" style="width:430px" 
                             required="#{MbFormGrupoEmpresa.relacionSeleccionada.paisControlante =='COLOMBIA' ? true : false}" requiredMessage="El Departamento es requerido.">
                <f:selectItem itemLabel="Departamento..." itemValue="" />
                <p:ajax event="change" listener="#{MbListaDesplegable.seleccionDepartamentoGrupoEmpresarial}" update="cboCiudadCedePrincipal"/>
                <f:selectItems value="#{MbListaDesplegable.listaDepartamentos}" var="Departamento" itemLabel="#{Departamento.nombre}" itemValue="#{Departamento.nombre}"/>
            </p:selectOneMenu>
            <p:message for="cboDepartamentoSedePrincipal"/>

            <p:outputLabel for="cboCiudadCedePrincipal" value="Ciudad sede principal:" styleClass="etiquetaFormulario"/>
            <p:selectOneMenu id="cboCiudadCedePrincipal" value="#{MbFormGrupoEmpresa.identificacionSeleccionada.municipio}" style="width:430px" 
                             required="#{MbFormGrupoEmpresa.relacionSeleccionada.paisControlante =='COLOMBIA' ? true : false}" requiredMessage="La Ciudad es requerida.">
                <f:selectItem itemLabel="Ciudad..." itemValue="" />
                <f:selectItems value="#{MbListaDesplegable.listaMunicipios}" var="Municipio" itemLabel="#{Municipio.nombre}" itemValue="#{Municipio.nombre}"/>
            </p:selectOneMenu>
            <p:message for="cboCiudadCedePrincipal"/>

            <p:outputLabel for="txtDireccionSedePrincipal" value="Dirección sede principal:" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtDireccionSedePrincipal" value="#{MbFormGrupoEmpresa.identificacionSeleccionada.direccion}" styleClass="valorEtiquetaFormulario" 
                         required="#{MbFormGrupoEmpresa.relacionSeleccionada.paisControlante =='COLOMBIA' ? true : false}" 
                         requiredMessage="La Dirección es requerida." maxlength="149" label ="Dirección sede principal" />
            <p:message for="txtDireccionSedePrincipal"/>

            <p:outputLabel for="txtIndicativoTelefonoPrincipal" value="Indicativo sede principal:" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtIndicativoTelefonoPrincipal" value="#{MbFormGrupoEmpresa.identificacionSeleccionada.indicativo}" styleClass="valorEtiquetaFormulario" 
                         required="#{MbFormGrupoEmpresa.relacionSeleccionada.paisControlante =='COLOMBIA' ? true : false}" 
                         requiredMessage="El Indicativo es requerido." label ="Indicativo sede principal" maxlength="19"/>
            <p:message for="txtIndicativoTelefonoPrincipal"/>

            <p:outputLabel for="txtTelefonoPrincipal" value="Teléfono sede principal:" styleClass="etiquetaFormulario" />
            <p:inputText id="txtTelefonoPrincipal" value="#{MbFormGrupoEmpresa.identificacionSeleccionada.telefono}" label ="Teléfono sede principal" styleClass="valorEtiquetaFormulario" 
                         required="#{MbFormGrupoEmpresa.relacionSeleccionada.paisControlante =='COLOMBIA' ? true : false}" 
                         requiredMessage="El Teléfono es requerido." validatorMessage="El Teléfono debe contener valores númericos (0-9) Ej: 777869"  maxlength="19" />
            <p:message for="txtTelefonoPrincipal"/>

            <!-- <h:outputText value="NIT de la controlante: " styleClass="etiquetaFormulario"/>
             <p:inputText styleClass="valorEtiquetaFormulario"/>
             
             <h:outputText value="Dígito de verificación de la controlante: " styleClass="etiquetaFormulario"/>
             <p:inputText styleClass="valorEtiquetaFormulario"/> 
            
 
             <h:outputText value="Nombre de la controlante: " styleClass="etiquetaFormulario"/>
             <p:inputText styleClass="valorEtiquetaFormulario"/>
            -->

            <!--h:outputText value="Saltar siguiente: " />
            <h:selectBooleanCheckbox value="#{MbFormGrupoEmpresa.skip}" /-->
        </h:panelGrid>
    </p:panel>

</ui:composition>