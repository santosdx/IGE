<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <p:panel>
        <p:tooltip />
            <!--
            Esta sección de código onblur="value = value.toUpperCase().trim()" añadida a los componentes inputText, 
            permite capturar el texto y transformarlo automaticamente en MAYUSCULA sostenida.
            -->
        <h:panelGrid columns="3" columnClasses="label, value" >

            <p:outputLabel for="txtNombreEstablecimiento" value="Nombre registrado:" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtNombreEstablecimiento" label="Nombre registrado" required="true" maxlength="299"
                         value="#{MbFormEstablecimiento.identificacionSeleccionada.nombreRegistrado}" styleClass="valorEtiquetaFormulario" 
                          requiredMessage="El nombre registrado es requerido." />
            <p:message for="txtNombreEstablecimiento" />

            <p:outputLabel for="txtMatriculaMercantil" value="Martícula mercantil del establecimiento:" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtMatriculaMercantil" label="Martícula mercantil del establecimiento" required="true" maxlength="19"
                         value="#{MbFormEstablecimiento.identificacionSeleccionada.matriculaMercantil}" styleClass="valorEtiquetaFormulario"  
                         requiredMessage="La martícula mercantil del establecimiento es requerida."
                         onblur="value = value.trim()"/>
            <p:message for="txtMatriculaMercantil" />

            <p:outputLabel for="cboTipoEstablecimiento" value="Tipo de establecimiento:" styleClass="etiquetaFormulario"/>
            <p:selectOneMenu id="cboTipoEstablecimiento" required="true" 
                             value="#{MbFormEstablecimiento.identificacionSeleccionada.tipoEstablecimiento}" style="width:430px" 
                             requiredMessage="El tipo de establecimieto es requerido.">
                <f:selectItem itemLabel="Establecimiento..." itemValue="" />
                <f:selectItems value="#{MbListaDesplegable.listaEstablecimeintos}" var="Establecimiento" 
                               itemLabel="#{Establecimiento.tipo}" itemValue="#{Establecimiento.tipo}"/>
            </p:selectOneMenu>
            <p:message for="cboTipoEstablecimiento" />

            <p:outputLabel for="cboDepartamento" value="Departamento:" styleClass="etiquetaFormulario"/>
            <p:selectOneMenu id="cboDepartamento" required="true" 
                             value="#{MbFormEstablecimiento.identificacionSeleccionada.departamento}" style="width:430px" 
                             requiredMessage="El departamento es requerido.">
                <f:selectItem itemLabel="Departamento..." itemValue="" />
                <p:ajax event="change" listener="#{MbListaDesplegable.seleccionDepartamentoEstablecimiento}" update="cboMunicipio"/>
                <f:selectItems value="#{MbListaDesplegable.listaDepartamentos}" var="Departamento" 
                               itemLabel="#{Departamento.nombre}" itemValue="#{Departamento.nombre}"/>
            </p:selectOneMenu>
            <p:message for="cboDepartamento" />

            <p:outputLabel for="cboMunicipio" value="Municipio:" styleClass="etiquetaFormulario"/>
            <p:selectOneMenu id="cboMunicipio" required="true" 
                             value="#{MbFormEstablecimiento.identificacionSeleccionada.municipio}" style="width:430px" 
                             requiredMessage="El municipio es requerido.">
                <f:selectItem itemLabel="Municipio..." itemValue="" />
                <f:selectItems value="#{MbListaDesplegable.listaMunicipios}" var="Municipio" 
                               itemLabel="#{Municipio.nombre}" itemValue="#{Municipio.nombre}"/>
            </p:selectOneMenu>
            <p:message for="cboMunicipio" />

            <p:outputLabel for="txtDireccion" value="Dirección del establecimiento:" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtDireccion" label="Dirección del establecimiento" required="true" maxlength="299"
                         value="#{MbFormEstablecimiento.identificacionSeleccionada.direccion}" styleClass="valorEtiquetaFormulario"
                          requiredMessage="La dirección es requerida."/>
            <p:message for="txtDireccion" />

            <p:outputLabel for="txtIndicativoTelefono" value="Indicativo" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtIndicativoTelefono" label ="Indicativo " required="true"  maxlength="9" 
                         value="#{MbFormEstablecimiento.identificacionSeleccionada.indicativo}" styleClass="valorEtiquetaFormulario" 
                         requiredMessage="El indicativo es requerido." />
            <p:message for="txtIndicativoTelefono"/>

            <p:outputLabel for="txtTelefono" value="Teléfono:" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtTelefono" label="Teléfono" required="true" maxlength="29"
                         value="#{MbFormEstablecimiento.identificacionSeleccionada.telefono}" styleClass="valorEtiquetaFormulario" 
                         requiredMessage="El teléfono es requerido."/>
            <p:message for="txtTelefono" />

            <!--p:outputLabel value="Estado: *" styleClass="etiquetaFormulario"/>
            <p:selectOneMenu id="cboEstado" value="#{MbFormEstablecimiento.identificacionSeleccionada.estadoEst}" style="width:430px" required="true" requiredMessage="El Estado es requerido.">
                <f:selectItem itemLabel="Estado..." itemValue="" />
                <f:selectItem itemLabel="Activa" itemValue="Activa" />
                <f:selectItem itemLabel="Cancelada" itemValue="Cancelada" />
            </p:selectOneMenu>
            <p:message for="cboEstado" /-->

            <p:outputLabel for="txtCodigoActividadEconomica" value="Código de la actividad económica:" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtCodigoActividadEconomica" required="true" label="Código de la actividad económica"  maxlength="4"
                         value="#{MbFormEstablecimiento.identificacionSeleccionada.actividadPrincipal}" styleClass="valorEtiquetaFormulario" 
                         requiredMessage="El código de la actividad económica es requerido." 
                         validatorMessage="Formato de actividad incorrecto, Ej: 0189">
                <f:validateRegex pattern="^[0-9]+$" />
            </p:inputText>
            <p:message for="txtCodigoActividadEconomica" />

            <p:outputLabel value="Otras actividades:" styleClass="etiquetaFormulario"/>
            <p:inputText id="txtOtrasActividades" label="Otras actividades" required="false" maxlength="39" 
                         value="#{MbFormEstablecimiento.identificacionSeleccionada.actividadSecundaria}" styleClass="valorEtiquetaFormulario" 
                         validatorMessage="Caracteres numericos [0-9] y la [,] para separara cada actividad.">
                <f:validateRegex pattern="(^[0-9,]+$)?" />
            </p:inputText>
            <h:panelGrid>
                <p:message for="txtOtrasActividades" />
                <p:graphicImage id="imgAyudaOtraActividade" value="/resources/icon/icono-de-ayuda.png" />
                <p:tooltip for="imgAyudaOtraActividade">
                    <p>Si presenta más de una actividad secundaria, <br></br>
                        puese ingresarlas de la siguiente forma:</p>
                    <p>Ejemplo: 2625, 2545 </p>
                </p:tooltip>
            </h:panelGrid>

            <p:outputLabel value="¿Es una actividad auxiliar?: *" styleClass="etiquetaFormulario"/>
            <p:inputSwitch id="txtEsUnaActividadAuxiliar" onLabel="SI" offLabel="NO"
                           value="#{MbFormEstablecimiento.identificacionSeleccionada.actividadAuxiliarEst}" />
            <p:message for="txtEsUnaActividadAuxiliar" />

            <p:outputLabel value="El establecimiento es unidad auxiliar: *" styleClass="etiquetaFormulario"/>
            <p:inputSwitch id="txtEsUnidadAuxiliar" onLabel="SI" offLabel="No"
                           value="#{MbFormEstablecimiento.identificacionSeleccionada.unidadAuxiliarUl}" />
            <p:message for="txtEsUnidadAuxiliar" />

            <!--h:outputText value="Saltar siguiente: " />
            <h:selectBooleanCheckbox value="#{practica.skip}" /-->
        </h:panelGrid>
    </p:panel>

</ui:composition>
